<?php namespace Illuminate\Workbench; use Symfony\Component\Finder\Finder; use Illuminate\Filesystem\Filesystem; class Starter { public static function start($path, Finder $finder = null, Filesystem $files = null) { $finder = $finder ?: new Finder; $files = $files ?: new Filesystem; $autoloads = $finder->in($path)->files()->name('autoload.php')->depth('<= 3')->followLinks(); foreach ($autoloads as $file) { $files->requireOnce($file->getRealPath()); } } }
