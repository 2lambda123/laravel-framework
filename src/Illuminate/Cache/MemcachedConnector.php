<?php namespace Illuminate\Cache; use Memcached; class MemcachedConnector { public function connect(array $servers) { $memcached = $this->getMemcached(); foreach ($servers as $server) { $memcached->addServer( $server['host'], $server['port'], $server['weight'] ); } if ($memcached->getVersion() === false) { throw new \RuntimeException("Could not establish Memcached connection."); } return $memcached; } protected function getMemcached() { return new Memcached; } }
