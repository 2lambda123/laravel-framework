<?php namespace Illuminate\Session\Console; use Illuminate\Console\Command; use Illuminate\Filesystem\Filesystem; class SessionTableCommand extends Command { protected $name = 'session:table'; protected $description = 'Create a migration for the session database table'; protected $files; public function __construct(Filesystem $files) { parent::__construct(); $this->files = $files; } public function fire() { $fullPath = $this->createBaseMigration(); $this->files->put($fullPath, $this->files->get(__DIR__.'/stubs/database.stub')); $this->info('Migration created successfully!'); } protected function createBaseMigration() { $name = 'create_session_table'; $path = $this->laravel['path'].'/database/migrations'; return $this->laravel['migration.creator']->create($name, $path); } }
