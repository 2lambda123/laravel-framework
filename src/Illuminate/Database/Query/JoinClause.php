<?php namespace Illuminate\Database\Query; class JoinClause { public $query; public $type; public $table; public $clauses = array(); public function __construct(Builder $query, $type, $table) { $this->type = $type; $this->query = $query; $this->table = $table; } public function on($first, $operator, $second, $boolean = 'and', $where = false) { $this->clauses[] = compact('first', 'operator', 'second', 'boolean', 'where'); if ($where) $this->query->addBinding($second); return $this; } public function orOn($first, $operator, $second) { return $this->on($first, $operator, $second, 'or'); } public function where($first, $operator, $second, $boolean = 'and') { return $this->on($first, $operator, $second, $boolean, true); } public function orWhere($first, $operator, $second) { return $this->on($first, $operator, $second, 'or', true); } }
