<?php namespace Illuminate\Foundation; use Illuminate\Filesystem\Filesystem; class AssetPublisher { protected $files; protected $publishPath; protected $packagePath; public function __construct(Filesystem $files, $publishPath) { $this->files = $files; $this->publishPath = $publishPath; } public function publish($name, $source) { $destination = $this->publishPath."/packages/{$name}"; $success = $this->files->copyDirectory($source, $destination); if ( ! $success) { throw new \RuntimeException("Unable to publish assets."); } return $success; } public function publishPackage($package, $packagePath = null) { $packagePath = $packagePath ?: $this->packagePath; $source = $packagePath."/{$package}/public"; return $this->publish($package, $source); } public function setPackagePath($packagePath) { $this->packagePath = $packagePath; } }
