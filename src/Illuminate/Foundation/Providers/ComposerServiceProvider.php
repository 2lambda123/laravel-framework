<?php namespace Illuminate\Foundation\Providers; use Illuminate\Foundation\Composer; use Illuminate\Support\ServiceProvider; use Illuminate\Foundation\Console\AutoloadCommand; class ComposerServiceProvider extends ServiceProvider { protected $defer = true; public function register() { $this->app->bindShared('composer', function($app) { return new Composer($app['files'], $app['path.base']); }); $this->app->bindShared('command.dump-autoload', function($app) { return new AutoloadCommand($app['composer']); }); $this->commands('command.dump-autoload'); } public function provides() { return array('composer', 'command.dump-autoload'); } }
