<?php namespace Illuminate\Foundation\Console; use Illuminate\Console\Command; use Symfony\Component\Console\Input\InputArgument; class MigratePublishCommand extends Command { protected $name = 'migrate:publish'; protected $description = "Publish a package's migrations to the application"; public function fire() { $published = $this->laravel['migration.publisher']->publish( $this->getSourcePath(), $this->laravel['path'].'/database/migrations' ); foreach ($published as $migration) { $this->line('<info>Published:</info> '.basename($migration)); } } protected function getSourcePath() { $vendor = $this->laravel['path.base'].'/vendor'; return $vendor.'/'.$this->argument('package').'/src/migrations'; } protected function getArguments() { return array( array('package', InputArgument::REQUIRED, 'The name of the package being published.'), ); } }
