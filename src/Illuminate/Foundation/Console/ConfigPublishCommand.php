<?php namespace Illuminate\Foundation\Console; use Illuminate\Console\Command; use Illuminate\Foundation\ConfigPublisher; use Symfony\Component\Console\Input\InputOption; use Symfony\Component\Console\Input\InputArgument; class ConfigPublishCommand extends Command { protected $name = 'config:publish'; protected $description = "Publish a package's configuration to the application"; protected $config; public function __construct(ConfigPublisher $config) { parent::__construct(); $this->config = $config; } public function fire() { $package = $this->input->getArgument('package'); if ( ! is_null($path = $this->getPath())) { $this->config->publish($package, $path); } else { $this->config->publishPackage($package); } $this->output->writeln('<info>Configuration published for package:</info> '.$package); } protected function getPath() { $path = $this->input->getOption('path'); if ( ! is_null($path)) { return $this->laravel['path.base'].'/'.$path; } } protected function getArguments() { return array( array('package', InputArgument::REQUIRED, 'The name of the package being published.'), ); } protected function getOptions() { return array( array('path', null, InputOption::VALUE_OPTIONAL, 'The path to the configuration files.', null), ); } }
