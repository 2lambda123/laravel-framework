<?php namespace Illuminate\Foundation\Console; use Illuminate\Console\Command; use Illuminate\Foundation\ViewPublisher; use Symfony\Component\Console\Input\InputOption; use Symfony\Component\Console\Input\InputArgument; class ViewPublishCommand extends Command { protected $name = 'view:publish'; protected $description = "Publish a package's views to the application"; protected $view; public function __construct(ViewPublisher $view) { parent::__construct(); $this->view = $view; } public function fire() { $package = $this->input->getArgument('package'); if ( ! is_null($path = $this->getPath())) { $this->view->publish($package, $path); } else { $this->view->publishPackage($package); } $this->output->writeln('<info>Views published for package:</info> '.$package); } protected function getPath() { $path = $this->input->getOption('path'); if ( ! is_null($path)) { return $this->laravel['path.base'].'/'.$path; } } protected function getArguments() { return array( array('package', InputArgument::REQUIRED, 'The name of the package being published.'), ); } protected function getOptions() { return array( array('path', null, InputOption::VALUE_OPTIONAL, 'The path to the source view files.', null), ); } }
