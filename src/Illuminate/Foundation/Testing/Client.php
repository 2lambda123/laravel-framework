<?php namespace Illuminate\Foundation\Testing; use Illuminate\Foundation\Application; use Symfony\Component\HttpKernel\Client as BaseClient; use Symfony\Component\BrowserKit\Request as DomRequest; class Client extends BaseClient { protected function filterRequest(DomRequest $request) { $httpRequest = Application::onRequest('create', $this->getRequestParameters($request)); $httpRequest->files->replace($this->filterFiles($httpRequest->files->all())); return $httpRequest; } protected function getRequestParameters(DomRequest $request) { return array( $request->getUri(), $request->getMethod(), $request->getParameters(), $request->getCookies(), $request->getFiles(), $request->getServer(), $request->getContent() ); } }
