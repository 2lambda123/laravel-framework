<?php namespace Illuminate\Foundation; use Illuminate\Console\Application as ConsoleApplication; class Artisan { protected $app; protected $artisan; public function __construct(Application $app) { $this->app = $app; } protected function getArtisan() { if ( ! is_null($this->artisan)) return $this->artisan; $this->app->loadDeferredProviders(); $this->artisan = ConsoleApplication::make($this->app); return $this->artisan->boot(); } public function __call($method, $parameters) { return call_user_func_array(array($this->getArtisan(), $method), $parameters); } }
