<?php namespace Illuminate\Routing; use Illuminate\Support\ServiceProvider; use Illuminate\Routing\Console\MakeControllerCommand; use Illuminate\Routing\Generators\ControllerGenerator; class ControllerServiceProvider extends ServiceProvider { protected $defer = true; public function register() { $this->registerGenerator(); $this->commands('command.controller.make'); } protected function registerGenerator() { $this->app->bindShared('command.controller.make', function($app) { $path = $app['path'].'/controllers'; $generator = new ControllerGenerator($app['files']); return new MakeControllerCommand($generator, $path); }); } public function provides() { return array( 'command.controller.make' ); } }
