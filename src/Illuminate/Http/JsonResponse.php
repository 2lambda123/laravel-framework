<?php namespace Illuminate\Http; use Illuminate\Support\Contracts\JsonableInterface; class JsonResponse extends \Symfony\Component\HttpFoundation\JsonResponse { use ResponseTrait; protected $jsonOptions; public function __construct($data = null, $status = 200, $headers = array(), $options = 0) { $this->jsonOptions = $options; parent::__construct($data, $status, $headers); } public function getData($assoc = false, $depth = 512) { return json_decode($this->data, $assoc, $depth); } public function setData($data = array()) { $this->data = $data instanceof JsonableInterface ? $data->toJson($this->jsonOptions) : json_encode($data, $this->jsonOptions); return $this->update(); } }
