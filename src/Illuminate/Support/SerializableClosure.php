<?php namespace Illuminate\Support; use Jeremeamia\SuperClosure\SerializableClosure as SuperClosure; class SerializableClosure extends SuperClosure { protected $code; protected $variables; public function getCode() { $this->determineCodeAndVariables(); return $this->code; } public function getVariables() { $this->determineCodeAndVariables(); return $this->variables; } protected function determineCodeAndVariables() { if (!$this->code) { list($this->code, $this->variables) = unserialize($this->serialize()); } } }
